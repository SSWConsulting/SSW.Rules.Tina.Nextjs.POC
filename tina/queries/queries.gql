query latestRulesQuery($size: Float, $sortOption: String) {
  ruleConnection(last: $size, sort: $sortOption) {
    edges {
      node {
        id
        title
        lastUpdated
        lastUpdatedBy
        created
        createdBy
        uri
      }
    }
  }
}

query topCategoryWithIndexQuery($first: Float, $after: String) {
  categoryConnection(first: $first, after: $after) {
    edges {
      node {
        __typename
        ... on CategoryTop_category {
          title
          _sys {
            relativePath
          }
          index {
            category {
              ... on CategoryCategory {
                title
                _sys {
                  filename
                }
              }
            }
          }
        }
      }
    }
    pageInfo {
      hasNextPage
      endCursor
    }
  }
}

query paginatedTopCategoriesQuery($first: Float, $after: String) {
  categoryConnection(first: $first, after: $after) {
    edges {
      node {
        __typename
        ... on CategoryTop_category {
          title
          _sys {
            filename
          }
          index {
            category {
              ... on CategoryCategory {
                title
                _sys {
                  filename
                }
              }
            }
          }
        }
      }
    }
    pageInfo {
      hasNextPage
      endCursor
    }
  }
}


query categoryWithRulesQuery($relativePath: String!) {
  category(relativePath: $relativePath) {
    ... on CategoryCategory {
      title
      body
      uri
      index {
        rule {
          ... on Rule {
            guid
            uri
            title
            body
            isArchived
            archivedreason
          }
        }
      }
    }
  }
}

query rulesByGuidQuery($guids: [String!]!) {
  ruleConnection(filter: { guid: { in: $guids } }) {
    edges {
      node {
        guid
        title
        uri
        body
        authors {
          title
        }
      }
    }
  }
}

query rulesByUriQuery($uris: [String!]!) {
  ruleConnection(filter: { uri: { in: $uris } }) {
    edges {
      node {
        guid
        title
        uri
        body
        authors {
          title
        }
        lastUpdated
        lastUpdatedBy
      }
    }
  }
}

query rulesByAuthor($authorTitle: String!, $first: Float, $after: String) {
  ruleConnection(
    filter: { authors: { title: { eq: $authorTitle } } }
    first: $first
    after: $after
  ) {
    pageInfo {
      hasNextPage
      endCursor
    }
    edges {
      node {
        guid
        title
        uri
        body
        authors { title }
        lastUpdated
        lastUpdatedBy
      }
    }
  }
}

query orphanedRulesQuery($first: Float, $after: String) {
  ruleConnection(first: $first, after: $after) {
    pageInfo {
      hasNextPage
      endCursor
    }
    edges {
      node {
        guid
        title
        uri
        body
        isArchived
        authors {
          title
        }
        lastUpdated
        lastUpdatedBy
      }
    }
  }
  categoryConnection {
    edges {
      node {
        __typename
        ... on CategoryCategory {
          index {
            rule {
              ... on Rule {
                guid
              }
            }
          }
        }
      }
    }
  }
}

query archivedRulesQuery($first: Float, $after: String) {
  ruleConnection(
    filter: { isArchived: { eq: true } }
    first: $first
    after: $after
  ) {
    pageInfo {
      hasNextPage
      endCursor
    }
    edges {
      node {
        guid
        title
        uri
        body
        isArchived
        archivedreason
        authors {
          title
        }
        lastUpdated
        lastUpdatedBy
      }
    }
  }
}